#ifndef SPRITE_HPP
#define SPRITE_HPP

#include <array>
#include <string>
#include "base.hpp"

class sprite: public base
{
public:
    //----------------------------------------------------------------------------------------------------------------------
    /// \brief ctor for the sprite class.
    /// \param _identifier string identifier for the sprite
    /// \param _col colour of the sprite
    /// \param _w width of the sprite
    /// \param _h height of the sprite
    //----------------------------------------------------------------------------------------------------------------------
    sprite(const std::string _identifier, const vec3 _col, const int _w, const int _h);

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief ctor for the sprite class.
    /// \param _identifier string identifier for the sprite
    /// \param _alph alpha of the sprite
    /// \param _w width of the sprite
    /// \param _h height of the sprite
    //----------------------------------------------------------------------------------------------------------------------
    sprite(const std::string _identifier, const float _alph, const int _w, const int _h);

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Regenerates stardust sprite attributes.
    /// \param _col colour of the sprite
    /// \param _w width of the sprite
    /// \param _h height of the sprite
    //----------------------------------------------------------------------------------------------------------------------
    void spriteGen(const std::array<float, 3> &_col, const int _w, const int _h);

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Updates the sprite.
    /// \param _dt timestep
    //----------------------------------------------------------------------------------------------------------------------
    void updateSprite(const float _dt);

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Updates the sprite dimensions.
    /// \param _dt timestep
    //----------------------------------------------------------------------------------------------------------------------
    void incrDim(float _dt);

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Getter for dimensions.
    //----------------------------------------------------------------------------------------------------------------------
    float getDim() const {return m_dim;}

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Getter for angle.
    //----------------------------------------------------------------------------------------------------------------------
    float getAng() const {return m_ang;}

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Getter for texture identifier.
    //----------------------------------------------------------------------------------------------------------------------
    std::string getIdentifier() {return m_identifier;}

    vec3 getCol() const {return m_col;}
    float getCol(int _i) {return *(&m_col.m_x + _i);}
    float getAlph() const {return m_alph;}
    void setAlph(const float _alph) {m_alph = _alph;}
private:
    //----------------------------------------------------------------------------------------------------------------------
    /// \brief Texture key of the sprite.
    //----------------------------------------------------------------------------------------------------------------------
    std::string m_identifier;

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief The angle of the sprite.
    //----------------------------------------------------------------------------------------------------------------------
    float m_ang;

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief The angular velocity of the sprite.
    //----------------------------------------------------------------------------------------------------------------------
    float m_angVel;

    //----------------------------------------------------------------------------------------------------------------------
    /// \brief The dimensions.
    //----------------------------------------------------------------------------------------------------------------------
    float m_dim;

    vec3 m_col;
    float m_alph;
};

#endif
